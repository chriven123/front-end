import{r as l,o as u,c as r,b as e,t as h,w as s,f as L,F as D,g as O,a as b,v as d,e as U}from"./index.8e29202f.js";const x=e("h1",null,"Test Robot API",-1),C=e("h2",null,"In questa pagina puoi simulare le chiamate alle API del robot",-1),N=["value"],j={key:0},E=e("label",{for:"image"},"Immagine:",-1),S=e("br",null,null,-1),G=e("input",{type:"file",id:"image",name:"image",accept:"image/*"},null,-1),J=[E,S,G],w={key:1},M=e("label",{for:"capienza_attuale"},"Capienza attuale:",-1),B=e("br",null,null,-1),Y=e("br",null,null,-1),F=e("label",{for:"temperatura"},"Temperatura:",-1),H=e("br",null,null,-1),Z=e("br",null,null,-1),Q=e("label",{for:"batteria"},"Batteria:",-1),W=e("br",null,null,-1),X=e("br",null,null,-1),$=e("h2",null,"Posizione",-1),q=e("label",{for:"latitudine"},"Latitudine:",-1),K=e("br",null,null,-1),ee=e("br",null,null,-1),ne=e("label",{for:"longitudine"},"Longitudine:",-1),oe=e("br",null,null,-1),te=e("br",null,null,-1),ie=e("label",{for:"altitudine"},"Altitudine:",-1),le=e("br",null,null,-1),ae=e("br",null,null,-1),se={key:2},ue=e("label",{for:"id_piano"},"ID piano:",-1),re=e("br",null,null,-1),de=e("br",null,null,-1),ce={key:3},pe=e("label",{for:"id_zona"},"ID zona:",-1),_e=e("br",null,null,-1),ve=e("br",null,null,-1),me={key:4},he=e("h2",null,"Response",-1),be=e("br",null,null,-1),ze={style:{color:"red",margin:"30px"}},fe={style:{color:"white",margin:"30px"}},ge={__name:"TestRobotAPI",setup(A){const p={}.VITE_API_HOST||"http://localhost:8080",a=l(""),R=l(["Richiedi riconoscimento rifiuto","Aggiorna parametri robot","Richiedi piano di pulizia","Richiedi dettagli piano di pulizia","Richiedi posizione dei contenitori"]),z=l(0),f=l(0),g=l(0),c=l({LAT:0,LON:0,ALT:0}),y=l(""),I=l(""),_=l({id:"63b1a4bef24bcf19150d3d3d",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYzYjFhNGJlZjI0YmNmMTkxNTBkM2QzZCIsIm5vbWVfb3JnYW5penphemlvbmUiOiIiLCJpYXQiOjE2NzI1ODY0MzB9.J_KGwAnMs8cGGFsL_r79TS0Zrt7G_6DUsssNRPSgG7k"}),v=l(""),m=l(""),i=l("");function V(){if(v.value="",m.value="",i.value="",a.value==="Richiedi riconoscimento rifiuto"){let t=document.getElementById("image").files[0],n=new FormData;n.append("image",t),fetch(p+"/rifiuto",{method:"POST",headers:{"x-access-token":_.value.token},body:n}).then(o=>o.json()).then(function(o){console.log(o)}).catch(o=>console.error(o))}else a.value==="Aggiorna parametri robot"?fetch(p+"/robot",{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":_.value.token},body:JSON.stringify({capienza_attuale:z.value,temperatura:f.value,batteria:g.value,posizione:c.value})}).then(function(t){t.status===200?m.value="Parametri aggiornati con successo":v.value="Errore nell'aggiornamento del robot"}).catch(t=>console.error(t)):a.value==="Richiedi piano di pulizia"?fetch(p+"/piano_pulizia",{method:"PATCH",headers:{"Content-Type":"application/json","x-access-token":_.value.token}}).then(function(t){t.status===200?t.json().then(function(n){m.value="Piano di pulizia assegnato con successo",i.value="ID piano: "+n._id+`
`,i.value+="ID robot: "+n.ID_robot+`
`,i.value+="ID zona: "+n.ID_zona+`
`,i.value+="Data inzio: "+n.data_inizio+`
`,i.value+="Data fine: "+n.data_fine+`
`,i.value+="Organizzazione: "+n.nome_organizzazione+`
`}):v.value="Errore nell'assegnamento del piano di pulizia"}).catch(t=>console.error(t)):a.value==="Richiedi dettagli piano di pulizia"?fetch(p+"/piano_pulizia/robot",{method:"GET",headers:{"Content-Type":"application/json","x-access-token":_.value.token}}).then(function(t){t.status===200?t.json().then(function(n){m.value="Piano di pulizia assegnato con successo",i.value="ID piano: "+n._id+`
`,i.value+="ID robot: "+n.ID_robot+`
`,i.value+="ID zona: "+n.ID_zona+`
`,i.value+="Data inzio: "+n.data_inizio+`
`,i.value+="Data fine: "+n.data_fine+`
`,i.value+="Organizzazione: "+n.nome_organizzazione+`
`}):v.value="Errore nell'assegnamento del piano di pulizia"}).catch(t=>console.error(t)):a.value==="Richiedi posizione dei contenitori"&&fetch(p+"/zone/containers/"+I.value,{method:"GET",headers:{"Content-Type":"application/json","x-access-token":_.value.token}}).then(function(t){t.status===200?t.json().then(function(n){m.value="Posizione dei contenitori richiesta con successo";let o=n.contenitori_rifiuti;for(let T=0;T<o.length;T++){let k=o[T];i.value+="Tipologia: "+k.tipologia+`
`,i.value+="Posizione: "+k.posizione+`
`}}):v.value="Errore nella richiesta della posizione dei contenitori"}).catch(t=>console.error(t))}return(t,n)=>(u(),r(D,null,[e("div",null,[x,C,e("h3",null,"Il robot di esempio \xE8 "+h(_.value.id),1),s(e("select",{"onUpdate:modelValue":n[0]||(n[0]=o=>a.value=o)},[(u(!0),r(D,null,O(R.value,o=>(u(),r("option",{value:o},h(o),9,N))),256))],512),[[L,a.value]])]),a.value==="Richiedi riconoscimento rifiuto"?(u(),r("div",j,J)):b("",!0),a.value==="Aggiorna parametri robot"?(u(),r("div",w,[M,B,s(e("input",{type:"number",id:"capienza_attuale",name:"capienza_attuale","onUpdate:modelValue":n[1]||(n[1]=o=>z.value=o)},null,512),[[d,z.value]]),Y,F,H,s(e("input",{type:"number",id:"temperatura",name:"temperatura","onUpdate:modelValue":n[2]||(n[2]=o=>f.value=o)},null,512),[[d,f.value]]),Z,Q,W,s(e("input",{type:"number",id:"batteria",name:"batteria","onUpdate:modelValue":n[3]||(n[3]=o=>g.value=o)},null,512),[[d,g.value]]),X,$,q,K,s(e("input",{type:"number",id:"latitudine",name:"latitudine","onUpdate:modelValue":n[4]||(n[4]=o=>c.value.LAT=o)},null,512),[[d,c.value.LAT]]),ee,ne,oe,s(e("input",{type:"number",id:"longitudine",name:"longitudine","onUpdate:modelValue":n[5]||(n[5]=o=>c.value.LON=o)},null,512),[[d,c.value.LON]]),te,ie,le,s(e("input",{type:"number",id:"altitudine",name:"altitudine","onUpdate:modelValue":n[6]||(n[6]=o=>c.value.ALT=o)},null,512),[[d,c.value.ALT]]),ae])):b("",!0),a.value==="Richiedi dettagli piano di pulizia"?(u(),r("div",se,[ue,re,s(e("input",{id:"id_piano",name:"id_piano","onUpdate:modelValue":n[7]||(n[7]=o=>y.value=o)},null,512),[[d,y.value]]),de])):b("",!0),a.value==="Richiedi posizione dei contenitori"?(u(),r("div",ce,[pe,_e,s(e("input",{id:"id_zona",name:"id_zona","onUpdate:modelValue":n[8]||(n[8]=o=>I.value=o)},null,512),[[d,I.value]]),ve])):b("",!0),i.value!=""?(u(),r("div",me,[he,e("pre",null,h(i.value),1)])):b("",!0),be,e("button",{style:{float:"left"},onClick:n[9]||(n[9]=o=>V())},"Test API"),e("span",ze,h(v.value),1),e("span",fe,h(m.value),1)],64))}},Te={__name:"TestRobotAPIView",setup(A){return(P,p)=>(u(),r("main",null,[U(ge)]))}};export{Te as default};
