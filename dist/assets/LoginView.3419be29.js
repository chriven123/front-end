import{r as p,o as s,c as a,u as i,l as t,t as w,a as d,w as m,v as _,b as r,s as y,d as T,e as V}from"./index.8e29202f.js";const k={key:0},L={key:1},S={__name:"Login",emits:["login"],setup(g,{emit:c}){const f={}.VITE_API_HOST||"http://localhost:8080",n=p(""),l=p("");function v(){fetch(f+"/utente/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.value,password:l.value})}).then(e=>e.json()).then(function(e){e.username=n.value,console.log(e),y(e),c("login",t)}).catch(e=>console.error(e))}return(e,o)=>(s(),a("form",null,[i(t).token?(s(),a("span",k," Welcome "+w(i(t).username),1)):d("",!0),i(t).token?d("",!0):(s(),a("span",L,[m(r("input",{name:"username","onUpdate:modelValue":o[0]||(o[0]=u=>n.value=u),placeholder:"username"},null,512),[[_,n.value]]),m(r("input",{name:"password",type:"password","onUpdate:modelValue":o[1]||(o[1]=u=>l.value=u),placeholder:"password"},null,512),[[_,l.value]]),r("button",{type:"button",onClick:v},"LogIn")]))]))}},x=r("h1",null,"Login",-1),N={__name:"LoginView",setup(g){return(c,h)=>(s(),a("main",null,[x,T(" Inserisci le tue credenziali "),V(S)]))}};export{N as default};
